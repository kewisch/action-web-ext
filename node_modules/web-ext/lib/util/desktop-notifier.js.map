{"version":3,"file":"desktop-notifier.js","names":["defaultNotifier","createLogger","defaultLog","import","meta","url","showDesktopNotification","title","message","icon","notifier","log","Promise","resolve","reject","notify","err","res","debug"],"sources":["../../src/util/desktop-notifier.js"],"sourcesContent":["/* @flow */\nimport defaultNotifier from 'node-notifier';\n\nimport {createLogger} from './logger.js';\nimport type {Logger} from './logger';\n\nconst defaultLog = createLogger(import.meta.url);\n\nexport type DesktopNotificationsParams = {|\n  title: string,\n  message: string,\n  icon?: string,\n|};\n\nexport type DesktopNotificationsOptions = {\n  notifier?: typeof defaultNotifier,\n  log?: Logger,\n};\n\nexport function showDesktopNotification(\n  {\n    title, message, icon,\n  }: DesktopNotificationsParams,\n  {\n    notifier = defaultNotifier,\n    log = defaultLog,\n  }: DesktopNotificationsOptions = {}\n): Promise<void> {\n\n  return new Promise((resolve, reject) => {\n    notifier.notify({title, message, icon}, (err, res) => {\n      if (err) {\n        log.debug(`Desktop notifier error: ${err.message},` +\n                 ` response: ${res}`);\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n"],"mappings":"AACA,OAAOA,eAAP,MAA4B,eAA5B;AAEA,SAAQC,YAAR,QAA2B,aAA3B;AAGA,MAAMC,UAAU,GAAGD,YAAY,CAACE,MAAM,CAACC,IAAP,CAAYC,GAAb,CAA/B;AAaA,OAAO,SAASC,uBAAT,CACL;EACEC,KADF;EACSC,OADT;EACkBC;AADlB,CADK,EAIL;EACEC,QAAQ,GAAGV,eADb;EAEEW,GAAG,GAAGT;AAFR,IAGiC,EAP5B,EAQU;EAEf,OAAO,IAAIU,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtCJ,QAAQ,CAACK,MAAT,CAAgB;MAACR,KAAD;MAAQC,OAAR;MAAiBC;IAAjB,CAAhB,EAAwC,CAACO,GAAD,EAAMC,GAAN,KAAc;MACpD,IAAID,GAAJ,EAAS;QACPL,GAAG,CAACO,KAAJ,CAAW,2BAA0BF,GAAG,CAACR,OAAQ,GAAvC,GACA,cAAaS,GAAI,EAD3B;QAEAH,MAAM,CAACE,GAAD,CAAN;MACD,CAJD,MAIO;QACLH,OAAO;MACR;IACF,CARD;EASD,CAVM,CAAP;AAWD"}