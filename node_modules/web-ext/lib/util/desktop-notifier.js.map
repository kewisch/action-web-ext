{"version":3,"file":"desktop-notifier.js","names":["defaultNotifier","createLogger","defaultLog","import","meta","url","showDesktopNotification","title","message","icon","notifier","log","Promise","resolve","reject","notify","err","res","debug"],"sources":["../../src/util/desktop-notifier.js"],"sourcesContent":["import defaultNotifier from 'node-notifier';\n\nimport { createLogger } from './logger.js';\n\nconst defaultLog = createLogger(import.meta.url);\n\nexport function showDesktopNotification(\n  { title, message, icon },\n  { notifier = defaultNotifier, log = defaultLog } = {},\n) {\n  return new Promise((resolve, reject) => {\n    notifier.notify({ title, message, icon }, (err, res) => {\n      if (err) {\n        log.debug(\n          `Desktop notifier error: ${err.message},` + ` response: ${res}`,\n        );\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n"],"mappings":"AAAA,OAAOA,eAAe,MAAM,eAAe;AAE3C,SAASC,YAAY,QAAQ,aAAa;AAE1C,MAAMC,UAAU,GAAGD,YAAY,CAACE,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;AAEhD,OAAO,SAASC,uBAAuBA,CACrC;EAAEC,KAAK;EAAEC,OAAO;EAAEC;AAAK,CAAC,EACxB;EAAEC,QAAQ,GAAGV,eAAe;EAAEW,GAAG,GAAGT;AAAW,CAAC,GAAG,CAAC,CAAC,EACrD;EACA,OAAO,IAAIU,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtCJ,QAAQ,CAACK,MAAM,CAAC;MAAER,KAAK;MAAEC,OAAO;MAAEC;IAAK,CAAC,EAAE,CAACO,GAAG,EAAEC,GAAG,KAAK;MACtD,IAAID,GAAG,EAAE;QACPL,GAAG,CAACO,KAAK,CACP,2BAA2BF,GAAG,CAACR,OAAO,GAAG,GAAG,cAAcS,GAAG,EAC/D,CAAC;QACDH,MAAM,CAACE,GAAG,CAAC;MACb,CAAC,MAAM;QACLH,OAAO,CAAC,CAAC;MACX;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ","ignoreList":[]}