{"version":3,"file":"program.js","names":["os","path","readFileSync","camelCase","decamelize","yargs","Parser","yargsParser","defaultCommands","UsageError","createLogger","consoleStream","defaultLogStream","coerceCLICustomPreference","checkForUpdates","defaultUpdateChecker","discoverConfigFiles","defaultConfigDiscovery","loadJSConfigFile","defaultLoadJSConfigFile","applyConfigToArgv","defaultApplyConfigToArgv","log","import","meta","url","envPrefix","defaultGlobalEnv","AMO_BASE_URL","Program","absolutePackageDir","commands","shouldExitProgram","verboseEnabled","options","programArgv","demandedOptions","constructor","argv","process","cwd","slice","yargsInstance","parserConfiguration","strict","wrap","terminalWidth","command","name","description","executor","commandOptions","yargsForCmd","demandCommand","undefined","exitProcess","env","setGlobalOptions","Object","keys","forEach","key","global","demandOption","enableVerboseMode","logStream","version","makeVerbose","info","getArguments","validationInstance","getInternalMethods","getValidationInstance","requiredArguments","getDemandedOptions","args","err","message","startsWith","configDiscovery","noConfigDiscovery","reload","noReload","input","noInput","ignoreFiles","length","startUrl","checkRequiredArguments","adjustedArgv","cleanupProcessEnvConfigs","systemProcess","cmd","_","toOptionKey","k","replace","separator","filter","optKey","globalOpt","cmdOpt","debug","execute","getVersion","defaultVersionGetter","globalEnv","runCommand","verbose","webextVersion","configFiles","discoveredConfigs","push","config","resolve","niceFileList","map","f","homedir","join","configFileName","configObject","argvFromCLI","error","stack","String","code","exit","packageData","JSON","parse","git","branch","long","throwUsageErrorIfArray","errorMessage","value","Array","isArray","main","runOptions","program","usage","help","alias","recommendCommands","describe","default","requiresArg","type","coerce","arg","normalize","hidden","build","filename","dumpConfig","sign","timeout","channel","run","target","choices","firefox","pref","devtools","lint","output","metadata","pretty","privileged","boring","docs"],"sources":["../src/program.js"],"sourcesContent":["import os from 'os';\nimport path from 'path';\nimport { readFileSync } from 'fs';\n\nimport camelCase from 'camelcase';\nimport decamelize from 'decamelize';\nimport yargs from 'yargs';\nimport { Parser as yargsParser } from 'yargs/helpers';\n\nimport defaultCommands from './cmd/index.js';\nimport { UsageError } from './errors.js';\nimport {\n  createLogger,\n  consoleStream as defaultLogStream,\n} from './util/logger.js';\nimport { coerceCLICustomPreference } from './firefox/preferences.js';\nimport { checkForUpdates as defaultUpdateChecker } from './util/updates.js';\nimport {\n  discoverConfigFiles as defaultConfigDiscovery,\n  loadJSConfigFile as defaultLoadJSConfigFile,\n  applyConfigToArgv as defaultApplyConfigToArgv,\n} from './config.js';\n\nconst log = createLogger(import.meta.url);\nconst envPrefix = 'WEB_EXT';\n// Default to \"development\" (the value actually assigned will be interpolated\n// by babel-plugin-transform-inline-environment-variables).\nconst defaultGlobalEnv = process.env.WEBEXT_BUILD_ENV || 'development';\n\nexport const AMO_BASE_URL = 'https://addons.mozilla.org/api/v5/';\n\n/*\n * The command line program.\n */\nexport class Program {\n  absolutePackageDir;\n  yargs;\n  commands;\n  shouldExitProgram;\n  verboseEnabled;\n  options;\n  programArgv;\n  demandedOptions;\n\n  constructor(argv, { absolutePackageDir = process.cwd() } = {}) {\n    // This allows us to override the process argv which is useful for\n    // testing.\n    // NOTE: process.argv.slice(2) removes the path to node and web-ext\n    // executables from the process.argv array.\n    argv = argv || process.argv.slice(2);\n    this.programArgv = argv;\n\n    // NOTE: always initialize yargs explicitly with the package dir\n    // to avoid side-effects due to yargs looking for its configuration\n    // section from a package.json file stored in an arbitrary directory\n    // (e.g. in tests yargs would end up loading yargs config from the\n    // mocha package.json). web-ext package.json doesn't contain any yargs\n    // section as it is deprecated and we configure yargs using\n    // yargs.parserConfiguration. See web-ext#469 for rationale.\n    const yargsInstance = yargs(argv, absolutePackageDir);\n\n    this.absolutePackageDir = absolutePackageDir;\n    this.verboseEnabled = false;\n    this.shouldExitProgram = true;\n\n    this.yargs = yargsInstance;\n    this.yargs.parserConfiguration({\n      'boolean-negation': true,\n    });\n    this.yargs.strict();\n    this.yargs.wrap(this.yargs.terminalWidth());\n\n    this.commands = {};\n    this.options = {};\n  }\n\n  command(name, description, executor, commandOptions = {}) {\n    this.options[camelCase(name)] = commandOptions;\n\n    this.yargs.command(name, description, (yargsForCmd) => {\n      if (!commandOptions) {\n        return;\n      }\n      return (\n        yargsForCmd\n          // Make sure the user does not add any extra commands. For example,\n          // this would be a mistake because lint does not accept arguments:\n          // web-ext lint ./src/path/to/file.js\n          .demandCommand(\n            0,\n            0,\n            undefined,\n            'This command does not take any arguments',\n          )\n          .strict()\n          .exitProcess(this.shouldExitProgram)\n          // Calling env() will be unnecessary after\n          // https://github.com/yargs/yargs/issues/486 is fixed\n          .env(envPrefix)\n          .options(commandOptions)\n      );\n    });\n    this.commands[name] = executor;\n    return this;\n  }\n\n  setGlobalOptions(options) {\n    // This is a convenience for setting global options.\n    // An option is only global (i.e. available to all sub commands)\n    // with the `global` flag so this makes sure every option has it.\n    this.options = { ...this.options, ...options };\n    Object.keys(options).forEach((key) => {\n      options[key].global = true;\n      if (options[key].demandOption === undefined) {\n        // By default, all options should be \"demanded\" otherwise\n        // yargs.strict() will think they are missing when declared.\n        options[key].demandOption = true;\n      }\n    });\n    this.yargs.options(options);\n    return this;\n  }\n\n  enableVerboseMode(logStream, version) {\n    if (this.verboseEnabled) {\n      return;\n    }\n\n    logStream.makeVerbose();\n    log.info('Version:', version);\n    this.verboseEnabled = true;\n  }\n\n  // Retrieve the yargs argv object and apply any further fix needed\n  // on the output of the yargs options parsing.\n  getArguments() {\n    // To support looking up required parameters via config files, we need to\n    // temporarily disable the requiredArguments validation. Otherwise yargs\n    // would exit early. Validation is enforced by the checkRequiredArguments()\n    // method, after reading configuration files.\n    //\n    // This is an undocumented internal API of yargs! Unit tests to avoid\n    // regressions are located at: tests/functional/test.cli.sign.js\n    //\n    // Replace hack if possible:  https://github.com/mozilla/web-ext/issues/1930\n    const validationInstance = this.yargs\n      .getInternalMethods()\n      .getValidationInstance();\n    const { requiredArguments } = validationInstance;\n    // Initialize demandedOptions (which is going to be set to an object with one\n    // property for each mandatory global options, then the arrow function below\n    // will receive as its demandedOptions parameter a new one that also includes\n    // all mandatory options for the sub command selected).\n    this.demandedOptions = this.yargs.getDemandedOptions();\n    validationInstance.requiredArguments = (args, demandedOptions) => {\n      this.demandedOptions = demandedOptions;\n    };\n    let argv;\n    try {\n      argv = this.yargs.argv;\n    } catch (err) {\n      if (\n        err.name === 'YError' &&\n        err.message.startsWith('Unknown argument: ')\n      ) {\n        throw new UsageError(err.message);\n      }\n      throw err;\n    }\n    validationInstance.requiredArguments = requiredArguments;\n\n    // Yargs boolean options doesn't define the no* counterpart\n    // with negate-boolean on Yargs 15. Define as expected by the\n    // web-ext execute method.\n    if (argv.configDiscovery != null) {\n      argv.noConfigDiscovery = !argv.configDiscovery;\n    }\n    if (argv.reload != null) {\n      argv.noReload = !argv.reload;\n    }\n\n    // Yargs doesn't accept --no-input as a valid option if there isn't a\n    // --input option defined to be negated, to fix that the --input is\n    // defined and hidden from the yargs help output and we define here\n    // the negated argument name that we expect to be set in the parsed\n    // arguments (and fix https://github.com/mozilla/web-ext/issues/1860).\n    if (argv.input != null) {\n      argv.noInput = !argv.input;\n    }\n\n    // Replacement for the \"requiresArg: true\" parameter until the following bug\n    // is fixed: https://github.com/yargs/yargs/issues/1098\n    if (argv.ignoreFiles && !argv.ignoreFiles.length) {\n      throw new UsageError('Not enough arguments following: ignore-files');\n    }\n\n    if (argv.startUrl && !argv.startUrl.length) {\n      throw new UsageError('Not enough arguments following: start-url');\n    }\n\n    return argv;\n  }\n\n  // getArguments() disables validation of required parameters, to allow us to\n  // read parameters from config files first. Before the program continues, it\n  // must call checkRequiredArguments() to ensure that required parameters are\n  // defined (in the CLI or in a config file).\n  checkRequiredArguments(adjustedArgv) {\n    const validationInstance = this.yargs\n      .getInternalMethods()\n      .getValidationInstance();\n    validationInstance.requiredArguments(adjustedArgv, this.demandedOptions);\n  }\n\n  // Remove WEB_EXT_* environment vars that are not a global cli options\n  // or an option supported by the current command (See #793).\n  cleanupProcessEnvConfigs(systemProcess) {\n    const cmd = yargsParser(this.programArgv)._[0];\n    const env = systemProcess.env || {};\n    const toOptionKey = (k) =>\n      decamelize(camelCase(k.replace(envPrefix, '')), { separator: '-' });\n\n    if (cmd) {\n      Object.keys(env)\n        .filter((k) => k.startsWith(envPrefix))\n        .forEach((k) => {\n          const optKey = toOptionKey(k);\n          const globalOpt = this.options[optKey];\n          const cmdOpt = this.options[cmd] && this.options[cmd][optKey];\n\n          if (!globalOpt && !cmdOpt) {\n            log.debug(`Environment ${k} not supported by web-ext ${cmd}`);\n            delete env[k];\n          }\n        });\n    }\n  }\n\n  async execute({\n    checkForUpdates = defaultUpdateChecker,\n    systemProcess = process,\n    logStream = defaultLogStream,\n    getVersion = defaultVersionGetter,\n    applyConfigToArgv = defaultApplyConfigToArgv,\n    discoverConfigFiles = defaultConfigDiscovery,\n    loadJSConfigFile = defaultLoadJSConfigFile,\n    shouldExitProgram = true,\n    globalEnv = defaultGlobalEnv,\n  } = {}) {\n    this.shouldExitProgram = shouldExitProgram;\n    this.yargs.exitProcess(this.shouldExitProgram);\n\n    this.cleanupProcessEnvConfigs(systemProcess);\n    const argv = this.getArguments();\n\n    const cmd = argv._[0];\n\n    const version = await getVersion(this.absolutePackageDir);\n    const runCommand = this.commands[cmd];\n\n    if (argv.verbose) {\n      this.enableVerboseMode(logStream, version);\n    }\n\n    let adjustedArgv = { ...argv, webextVersion: version };\n\n    try {\n      if (cmd === undefined) {\n        throw new UsageError('No sub-command was specified in the args');\n      }\n      if (!runCommand) {\n        throw new UsageError(`Unknown command: ${cmd}`);\n      }\n      if (globalEnv === 'production') {\n        checkForUpdates({ version });\n      }\n\n      const configFiles = [];\n\n      if (argv.configDiscovery) {\n        log.debug(\n          'Discovering config files. ' + 'Set --no-config-discovery to disable',\n        );\n        const discoveredConfigs = await discoverConfigFiles();\n        configFiles.push(...discoveredConfigs);\n      } else {\n        log.debug('Not discovering config files');\n      }\n\n      if (argv.config) {\n        configFiles.push(path.resolve(argv.config));\n      }\n\n      if (configFiles.length) {\n        const niceFileList = configFiles\n          .map((f) => f.replace(process.cwd(), '.'))\n          .map((f) => f.replace(os.homedir(), '~'))\n          .join(', ');\n        log.debug(\n          'Applying config file' +\n            `${configFiles.length !== 1 ? 's' : ''}: ` +\n            `${niceFileList}`,\n        );\n      }\n\n      for (const configFileName of configFiles) {\n        const configObject = await loadJSConfigFile(configFileName);\n        adjustedArgv = applyConfigToArgv({\n          argv: adjustedArgv,\n          argvFromCLI: argv,\n          configFileName,\n          configObject,\n          options: this.options,\n        });\n      }\n\n      if (adjustedArgv.verbose) {\n        // Ensure that the verbose is enabled when specified in a config file.\n        this.enableVerboseMode(logStream, version);\n      }\n\n      this.checkRequiredArguments(adjustedArgv);\n\n      await runCommand(adjustedArgv, { shouldExitProgram });\n    } catch (error) {\n      if (!(error instanceof UsageError) || adjustedArgv.verbose) {\n        log.error(`\\n${error.stack}\\n`);\n      } else {\n        log.error(`\\n${String(error)}\\n`);\n      }\n      if (error.code) {\n        log.error(`Error code: ${error.code}\\n`);\n      }\n\n      log.debug(`Command executed: ${cmd}`);\n\n      if (this.shouldExitProgram) {\n        systemProcess.exit(1);\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n\n//A defintion of type of argument for defaultVersionGetter\n\nexport async function defaultVersionGetter(\n  absolutePackageDir,\n  { globalEnv = defaultGlobalEnv } = {},\n) {\n  if (globalEnv === 'production') {\n    log.debug('Getting the version from package.json');\n    const packageData = readFileSync(\n      path.join(absolutePackageDir, 'package.json'),\n    );\n    return JSON.parse(packageData).version;\n  } else {\n    log.debug('Getting version from the git revision');\n    // This branch is only reached during development.\n    // git-rev-sync is in devDependencies, and lazily imported using require.\n    // This also avoids logspam from https://github.com/mozilla/web-ext/issues/1916\n    // eslint-disable-next-line import/no-extraneous-dependencies\n    const git = await import('git-rev-sync');\n    return `${git.branch(absolutePackageDir)}-${git.long(absolutePackageDir)}`;\n  }\n}\n\nexport function throwUsageErrorIfArray(errorMessage) {\n  return (value) => {\n    if (Array.isArray(value)) {\n      throw new UsageError(errorMessage);\n    }\n    return value;\n  };\n}\n\nexport async function main(\n  absolutePackageDir,\n  {\n    getVersion = defaultVersionGetter,\n    commands = defaultCommands,\n    argv,\n    runOptions = {},\n  } = {},\n) {\n  const program = new Program(argv, { absolutePackageDir });\n  const version = await getVersion(absolutePackageDir);\n\n  // yargs uses magic camel case expansion to expose options on the\n  // final argv object. For example, the 'artifacts-dir' option is alternatively\n  // available as argv.artifactsDir.\n  program.yargs\n    .usage(\n      `Usage: $0 [options] command\n\nOption values can also be set by declaring an environment variable prefixed\nwith $${envPrefix}_. For example: $${envPrefix}_SOURCE_DIR=/path is the same as\n--source-dir=/path.\n\nTo view specific help for any given command, add the command name.\nExample: $0 --help run.\n`,\n    )\n    .help('help')\n    .alias('h', 'help')\n    .env(envPrefix)\n    .version(version)\n    .demandCommand(1, 'You must specify a command')\n    .strict()\n    .recommendCommands();\n\n  program.setGlobalOptions({\n    'source-dir': {\n      alias: 's',\n      describe: 'Web extension source directory.',\n      default: process.cwd(),\n      requiresArg: true,\n      type: 'string',\n      coerce: (arg) => (arg != null ? path.resolve(arg) : undefined),\n    },\n    'artifacts-dir': {\n      alias: 'a',\n      describe: 'Directory where artifacts will be saved.',\n      default: path.join(process.cwd(), 'web-ext-artifacts'),\n      normalize: true,\n      requiresArg: true,\n      type: 'string',\n    },\n    verbose: {\n      alias: 'v',\n      describe: 'Show verbose output',\n      type: 'boolean',\n      demandOption: false,\n    },\n    'ignore-files': {\n      alias: 'i',\n      describe:\n        'A list of glob patterns to define which files should be ' +\n        'ignored. (Example: --ignore-files=path/to/first.js ' +\n        'path/to/second.js \"**/*.log\")',\n      demandOption: false,\n      // The following option prevents yargs>=11 from parsing multiple values,\n      // so the minimum value requirement is enforced in execute instead.\n      // Upstream bug: https://github.com/yargs/yargs/issues/1098\n      // requiresArg: true,\n      type: 'array',\n    },\n    'no-input': {\n      describe: 'Disable all features that require standard input',\n      type: 'boolean',\n      demandOption: false,\n    },\n    input: {\n      // This option is defined to make yargs to accept the --no-input\n      // defined above, but we hide it from the yargs help output.\n      hidden: true,\n      type: 'boolean',\n      demandOption: false,\n    },\n    config: {\n      alias: 'c',\n      describe: 'Path to a CommonJS config file to set ' + 'option defaults',\n      default: undefined,\n      demandOption: false,\n      requiresArg: true,\n      type: 'string',\n    },\n    'config-discovery': {\n      describe:\n        'Discover config files in home directory and ' +\n        'working directory. Disable with --no-config-discovery.',\n      demandOption: false,\n      default: true,\n      type: 'boolean',\n    },\n  });\n\n  program\n    .command(\n      'build',\n      'Create an extension package from source',\n      commands.build,\n      {\n        'as-needed': {\n          describe: 'Watch for file changes and re-build as needed',\n          type: 'boolean',\n        },\n        filename: {\n          alias: 'n',\n          describe: 'Name of the created extension package file.',\n          default: undefined,\n          normalize: false,\n          demandOption: false,\n          requiresArg: true,\n          type: 'string',\n          coerce: (arg) =>\n            arg == null\n              ? undefined\n              : throwUsageErrorIfArray(\n                  'Multiple --filename/-n option are not allowed',\n                )(arg),\n        },\n        'overwrite-dest': {\n          alias: 'o',\n          describe: 'Overwrite destination package if it exists.',\n          type: 'boolean',\n        },\n      },\n    )\n    .command(\n      'dump-config',\n      'Run config discovery and dump the resulting config data as JSON',\n      commands.dumpConfig,\n      {},\n    )\n    .command(\n      'sign',\n      'Sign the extension so it can be installed in Firefox',\n      commands.sign,\n      {\n        'amo-base-url': {\n          describe: 'Submission API URL prefix',\n          default: AMO_BASE_URL,\n          demandOption: true,\n          type: 'string',\n        },\n        'api-key': {\n          describe: 'API key (JWT issuer) from addons.mozilla.org',\n          demandOption: true,\n          type: 'string',\n        },\n        'api-secret': {\n          describe: 'API secret (JWT secret) from addons.mozilla.org',\n          demandOption: true,\n          type: 'string',\n        },\n        'api-proxy': {\n          describe:\n            'Use a proxy to access the signing API. ' +\n            'Example: https://yourproxy:6000 ',\n          demandOption: false,\n          type: 'string',\n        },\n        timeout: {\n          describe: 'Number of milliseconds to wait before giving up',\n          type: 'number',\n        },\n        'approval-timeout': {\n          describe:\n            'Number of milliseconds to wait for approval before giving up. ' +\n            'Set to 0 to disable waiting for approval. Fallback to `timeout` if not set.',\n          type: 'number',\n        },\n        channel: {\n          describe:\n            \"The channel for which to sign the addon. Either 'listed' or 'unlisted'.\",\n          demandOption: true,\n          type: 'string',\n        },\n        'amo-metadata': {\n          describe:\n            'Path to a JSON file containing an object with metadata to be passed to the API. ' +\n            'See https://addons-server.readthedocs.io/en/latest/topics/api/addons.html for details.',\n          type: 'string',\n        },\n        'upload-source-code': {\n          describe:\n            'Path to an archive file containing human readable source code of this submission, ' +\n            'if the code in --source-dir has been processed to make it unreadable. ' +\n            'See https://extensionworkshop.com/documentation/publish/source-code-submission/ for ' +\n            'details.',\n          type: 'string',\n        },\n      },\n    )\n    .command('run', 'Run the extension', commands.run, {\n      target: {\n        alias: 't',\n        describe:\n          'The extensions runners to enable. Specify this option ' +\n          'multiple times to run against multiple targets.',\n        default: 'firefox-desktop',\n        demandOption: false,\n        type: 'array',\n        choices: ['firefox-desktop', 'firefox-android', 'chromium'],\n      },\n      firefox: {\n        alias: ['f', 'firefox-binary'],\n        describe:\n          'Path or alias to a Firefox executable such as firefox-bin ' +\n          'or firefox.exe. ' +\n          'If not specified, the default Firefox will be used. ' +\n          'You can specify the following aliases in lieu of a path: ' +\n          'firefox, beta, nightly, firefoxdeveloperedition (or deved). ' +\n          'For Flatpak, use `flatpak:org.mozilla.firefox` where ' +\n          '`org.mozilla.firefox` is the application ID.',\n        demandOption: false,\n        type: 'string',\n      },\n      'firefox-profile': {\n        alias: 'p',\n        describe:\n          'Run Firefox using a copy of this profile. The profile ' +\n          'can be specified as a directory or a name, such as one ' +\n          'you would see in the Profile Manager. If not specified, ' +\n          'a new temporary profile will be created.',\n        demandOption: false,\n        type: 'string',\n      },\n      'chromium-binary': {\n        describe:\n          'Path or alias to a Chromium executable such as ' +\n          'google-chrome, google-chrome.exe or opera.exe etc. ' +\n          'If not specified, the default Google Chrome will be used.',\n        demandOption: false,\n        type: 'string',\n      },\n      'chromium-profile': {\n        describe: 'Path to a custom Chromium profile',\n        demandOption: false,\n        type: 'string',\n      },\n      'profile-create-if-missing': {\n        describe: 'Create the profile directory if it does not already exist',\n        demandOption: false,\n        type: 'boolean',\n      },\n      'keep-profile-changes': {\n        describe:\n          'Run Firefox directly in custom profile. Any changes to ' +\n          'the profile will be saved.',\n        demandOption: false,\n        type: 'boolean',\n      },\n      reload: {\n        describe:\n          'Reload the extension when source files change.' +\n          'Disable with --no-reload.',\n        demandOption: false,\n        default: true,\n        type: 'boolean',\n      },\n      'watch-file': {\n        alias: ['watch-files'],\n        describe:\n          'Reload the extension only when the contents of this' +\n          ' file changes. This is useful if you use a custom' +\n          ' build process for your extension',\n        demandOption: false,\n        type: 'array',\n      },\n      'watch-ignored': {\n        describe:\n          'Paths and globs patterns that should not be ' +\n          'watched for changes. This is useful if you want ' +\n          'to explicitly prevent web-ext from watching part ' +\n          'of the extension directory tree, ' +\n          'e.g. the node_modules folder.',\n        demandOption: false,\n        type: 'array',\n      },\n      'pre-install': {\n        describe:\n          'Pre-install the extension into the profile before ' +\n          'startup. This is only needed to support older versions ' +\n          'of Firefox.',\n        demandOption: false,\n        type: 'boolean',\n      },\n      pref: {\n        describe:\n          'Launch firefox with a custom preference ' +\n          '(example: --pref=general.useragent.locale=fr-FR). ' +\n          'You can repeat this option to set more than one ' +\n          'preference.',\n        demandOption: false,\n        requiresArg: true,\n        type: 'array',\n        coerce: (arg) =>\n          arg != null ? coerceCLICustomPreference(arg) : undefined,\n      },\n      'start-url': {\n        alias: ['u', 'url'],\n        describe: 'Launch firefox at specified page',\n        demandOption: false,\n        type: 'array',\n      },\n      devtools: {\n        describe:\n          'Open the DevTools for the installed add-on ' +\n          '(Firefox 106 and later)',\n        demandOption: false,\n        type: 'boolean',\n      },\n      'browser-console': {\n        alias: ['bc'],\n        describe: 'Open the DevTools Browser Console.',\n        demandOption: false,\n        type: 'boolean',\n      },\n      args: {\n        alias: ['arg'],\n        describe: 'Additional CLI options passed to the Browser binary',\n        demandOption: false,\n        type: 'array',\n      },\n      // Firefox for Android CLI options.\n      'adb-bin': {\n        describe: 'Specify a custom path to the adb binary',\n        demandOption: false,\n        type: 'string',\n        requiresArg: true,\n      },\n      'adb-host': {\n        describe: 'Connect to adb on the specified host',\n        demandOption: false,\n        type: 'string',\n        requiresArg: true,\n      },\n      'adb-port': {\n        describe: 'Connect to adb on the specified port',\n        demandOption: false,\n        type: 'string',\n        requiresArg: true,\n      },\n      'adb-device': {\n        alias: ['android-device'],\n        describe: 'Connect to the specified adb device name',\n        demandOption: false,\n        type: 'string',\n        requiresArg: true,\n      },\n      'adb-discovery-timeout': {\n        describe: 'Number of milliseconds to wait before giving up',\n        demandOption: false,\n        type: 'number',\n        requiresArg: true,\n      },\n      'adb-remove-old-artifacts': {\n        describe: 'Remove old artifacts directories from the adb device',\n        demandOption: false,\n        type: 'boolean',\n      },\n      'firefox-apk': {\n        describe:\n          'Run a specific Firefox for Android APK. ' +\n          'Example: org.mozilla.fennec_aurora',\n        demandOption: false,\n        type: 'string',\n        requiresArg: true,\n      },\n      'firefox-apk-component': {\n        describe:\n          'Run a specific Android Component (defaults to <firefox-apk>/.App)',\n        demandOption: false,\n        type: 'string',\n        requiresArg: true,\n      },\n    })\n    .command('lint', 'Validate the extension source', commands.lint, {\n      output: {\n        alias: 'o',\n        describe: 'The type of output to generate',\n        type: 'string',\n        default: 'text',\n        choices: ['json', 'text'],\n      },\n      metadata: {\n        describe: 'Output only metadata as JSON',\n        type: 'boolean',\n        default: false,\n      },\n      'warnings-as-errors': {\n        describe: 'Treat warnings as errors by exiting non-zero for warnings',\n        alias: 'w',\n        type: 'boolean',\n        default: false,\n      },\n      pretty: {\n        describe: 'Prettify JSON output',\n        type: 'boolean',\n        default: false,\n      },\n      privileged: {\n        describe: 'Treat your extension as a privileged extension',\n        type: 'boolean',\n        default: false,\n      },\n      'self-hosted': {\n        describe:\n          'Your extension will be self-hosted. This disables messages ' +\n          'related to hosting on addons.mozilla.org.',\n        type: 'boolean',\n        default: false,\n      },\n      boring: {\n        describe: 'Disables colorful shell output',\n        type: 'boolean',\n        default: false,\n      },\n    })\n    .command(\n      'docs',\n      'Open the web-ext documentation in a browser',\n      commands.docs,\n      {},\n    );\n\n  return program.execute({ getVersion, ...runOptions });\n}\n"],"mappings":"AAAA,OAAOA,EAAE,MAAM,IAAI;AACnB,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,YAAY,QAAQ,IAAI;AAEjC,OAAOC,SAAS,MAAM,WAAW;AACjC,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,IAAIC,WAAW,QAAQ,eAAe;AAErD,OAAOC,eAAe,MAAM,gBAAgB;AAC5C,SAASC,UAAU,QAAQ,aAAa;AACxC,SACEC,YAAY,EACZC,aAAa,IAAIC,gBAAgB,QAC5B,kBAAkB;AACzB,SAASC,yBAAyB,QAAQ,0BAA0B;AACpE,SAASC,eAAe,IAAIC,oBAAoB,QAAQ,mBAAmB;AAC3E,SACEC,mBAAmB,IAAIC,sBAAsB,EAC7CC,gBAAgB,IAAIC,uBAAuB,EAC3CC,iBAAiB,IAAIC,wBAAwB,QACxC,aAAa;AAEpB,MAAMC,GAAG,GAAGZ,YAAY,CAACa,MAAM,CAACC,IAAI,CAACC,GAAG,CAAC;AACzC,MAAMC,SAAS,GAAG,SAAS;AAC3B;AACA;AACA,MAAMC,gBAAgB,GAAG,gBAAgC,aAAa;AAEtE,OAAO,MAAMC,YAAY,GAAG,oCAAoC;;AAEhE;AACA;AACA;AACA,OAAO,MAAMC,OAAO,CAAC;EACnBC,kBAAkB;EAClBzB,KAAK;EACL0B,QAAQ;EACRC,iBAAiB;EACjBC,cAAc;EACdC,OAAO;EACPC,WAAW;EACXC,eAAe;EAEfC,WAAWA,CAACC,IAAI,EAAE;IAAER,kBAAkB,GAAGS,OAAO,CAACC,GAAG,CAAC;EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;IAC7D;IACA;IACA;IACA;IACAF,IAAI,GAAGA,IAAI,IAAIC,OAAO,CAACD,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC;IACpC,IAAI,CAACN,WAAW,GAAGG,IAAI;;IAEvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA,MAAMI,aAAa,GAAGrC,KAAK,CAACiC,IAAI,EAAER,kBAAkB,CAAC;IAErD,IAAI,CAACA,kBAAkB,GAAGA,kBAAkB;IAC5C,IAAI,CAACG,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACD,iBAAiB,GAAG,IAAI;IAE7B,IAAI,CAAC3B,KAAK,GAAGqC,aAAa;IAC1B,IAAI,CAACrC,KAAK,CAACsC,mBAAmB,CAAC;MAC7B,kBAAkB,EAAE;IACtB,CAAC,CAAC;IACF,IAAI,CAACtC,KAAK,CAACuC,MAAM,CAAC,CAAC;IACnB,IAAI,CAACvC,KAAK,CAACwC,IAAI,CAAC,IAAI,CAACxC,KAAK,CAACyC,aAAa,CAAC,CAAC,CAAC;IAE3C,IAAI,CAACf,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAACG,OAAO,GAAG,CAAC,CAAC;EACnB;EAEAa,OAAOA,CAACC,IAAI,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,cAAc,GAAG,CAAC,CAAC,EAAE;IACxD,IAAI,CAACjB,OAAO,CAAC/B,SAAS,CAAC6C,IAAI,CAAC,CAAC,GAAGG,cAAc;IAE9C,IAAI,CAAC9C,KAAK,CAAC0C,OAAO,CAACC,IAAI,EAAEC,WAAW,EAAGG,WAAW,IAAK;MACrD,IAAI,CAACD,cAAc,EAAE;QACnB;MACF;MACA,OACEC;MACE;MACA;MACA;MAAA,CACCC,aAAa,CACZ,CAAC,EACD,CAAC,EACDC,SAAS,EACT,0CACF,CAAC,CACAV,MAAM,CAAC,CAAC,CACRW,WAAW,CAAC,IAAI,CAACvB,iBAAiB;MACnC;MACA;MAAA,CACCwB,GAAG,CAAC9B,SAAS,CAAC,CACdQ,OAAO,CAACiB,cAAc,CAAC;IAE9B,CAAC,CAAC;IACF,IAAI,CAACpB,QAAQ,CAACiB,IAAI,CAAC,GAAGE,QAAQ;IAC9B,OAAO,IAAI;EACb;EAEAO,gBAAgBA,CAACvB,OAAO,EAAE;IACxB;IACA;IACA;IACA,IAAI,CAACA,OAAO,GAAG;MAAE,GAAG,IAAI,CAACA,OAAO;MAAE,GAAGA;IAAQ,CAAC;IAC9CwB,MAAM,CAACC,IAAI,CAACzB,OAAO,CAAC,CAAC0B,OAAO,CAAEC,GAAG,IAAK;MACpC3B,OAAO,CAAC2B,GAAG,CAAC,CAACC,MAAM,GAAG,IAAI;MAC1B,IAAI5B,OAAO,CAAC2B,GAAG,CAAC,CAACE,YAAY,KAAKT,SAAS,EAAE;QAC3C;QACA;QACApB,OAAO,CAAC2B,GAAG,CAAC,CAACE,YAAY,GAAG,IAAI;MAClC;IACF,CAAC,CAAC;IACF,IAAI,CAAC1D,KAAK,CAAC6B,OAAO,CAACA,OAAO,CAAC;IAC3B,OAAO,IAAI;EACb;EAEA8B,iBAAiBA,CAACC,SAAS,EAAEC,OAAO,EAAE;IACpC,IAAI,IAAI,CAACjC,cAAc,EAAE;MACvB;IACF;IAEAgC,SAAS,CAACE,WAAW,CAAC,CAAC;IACvB7C,GAAG,CAAC8C,IAAI,CAAC,UAAU,EAAEF,OAAO,CAAC;IAC7B,IAAI,CAACjC,cAAc,GAAG,IAAI;EAC5B;;EAEA;EACA;EACAoC,YAAYA,CAAA,EAAG;IACb;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,MAAMC,kBAAkB,GAAG,IAAI,CAACjE,KAAK,CAClCkE,kBAAkB,CAAC,CAAC,CACpBC,qBAAqB,CAAC,CAAC;IAC1B,MAAM;MAAEC;IAAkB,CAAC,GAAGH,kBAAkB;IAChD;IACA;IACA;IACA;IACA,IAAI,CAAClC,eAAe,GAAG,IAAI,CAAC/B,KAAK,CAACqE,kBAAkB,CAAC,CAAC;IACtDJ,kBAAkB,CAACG,iBAAiB,GAAG,CAACE,IAAI,EAAEvC,eAAe,KAAK;MAChE,IAAI,CAACA,eAAe,GAAGA,eAAe;IACxC,CAAC;IACD,IAAIE,IAAI;IACR,IAAI;MACFA,IAAI,GAAG,IAAI,CAACjC,KAAK,CAACiC,IAAI;IACxB,CAAC,CAAC,OAAOsC,GAAG,EAAE;MACZ,IACEA,GAAG,CAAC5B,IAAI,KAAK,QAAQ,IACrB4B,GAAG,CAACC,OAAO,CAACC,UAAU,CAAC,oBAAoB,CAAC,EAC5C;QACA,MAAM,IAAIrE,UAAU,CAACmE,GAAG,CAACC,OAAO,CAAC;MACnC;MACA,MAAMD,GAAG;IACX;IACAN,kBAAkB,CAACG,iBAAiB,GAAGA,iBAAiB;;IAExD;IACA;IACA;IACA,IAAInC,IAAI,CAACyC,eAAe,IAAI,IAAI,EAAE;MAChCzC,IAAI,CAAC0C,iBAAiB,GAAG,CAAC1C,IAAI,CAACyC,eAAe;IAChD;IACA,IAAIzC,IAAI,CAAC2C,MAAM,IAAI,IAAI,EAAE;MACvB3C,IAAI,CAAC4C,QAAQ,GAAG,CAAC5C,IAAI,CAAC2C,MAAM;IAC9B;;IAEA;IACA;IACA;IACA;IACA;IACA,IAAI3C,IAAI,CAAC6C,KAAK,IAAI,IAAI,EAAE;MACtB7C,IAAI,CAAC8C,OAAO,GAAG,CAAC9C,IAAI,CAAC6C,KAAK;IAC5B;;IAEA;IACA;IACA,IAAI7C,IAAI,CAAC+C,WAAW,IAAI,CAAC/C,IAAI,CAAC+C,WAAW,CAACC,MAAM,EAAE;MAChD,MAAM,IAAI7E,UAAU,CAAC,8CAA8C,CAAC;IACtE;IAEA,IAAI6B,IAAI,CAACiD,QAAQ,IAAI,CAACjD,IAAI,CAACiD,QAAQ,CAACD,MAAM,EAAE;MAC1C,MAAM,IAAI7E,UAAU,CAAC,2CAA2C,CAAC;IACnE;IAEA,OAAO6B,IAAI;EACb;;EAEA;EACA;EACA;EACA;EACAkD,sBAAsBA,CAACC,YAAY,EAAE;IACnC,MAAMnB,kBAAkB,GAAG,IAAI,CAACjE,KAAK,CAClCkE,kBAAkB,CAAC,CAAC,CACpBC,qBAAqB,CAAC,CAAC;IAC1BF,kBAAkB,CAACG,iBAAiB,CAACgB,YAAY,EAAE,IAAI,CAACrD,eAAe,CAAC;EAC1E;;EAEA;EACA;EACAsD,wBAAwBA,CAACC,aAAa,EAAE;IACtC,MAAMC,GAAG,GAAGrF,WAAW,CAAC,IAAI,CAAC4B,WAAW,CAAC,CAAC0D,CAAC,CAAC,CAAC,CAAC;IAC9C,MAAMrC,GAAG,GAAGmC,aAAa,CAACnC,GAAG,IAAI,CAAC,CAAC;IACnC,MAAMsC,WAAW,GAAIC,CAAC,IACpB3F,UAAU,CAACD,SAAS,CAAC4F,CAAC,CAACC,OAAO,CAACtE,SAAS,EAAE,EAAE,CAAC,CAAC,EAAE;MAAEuE,SAAS,EAAE;IAAI,CAAC,CAAC;IAErE,IAAIL,GAAG,EAAE;MACPlC,MAAM,CAACC,IAAI,CAACH,GAAG,CAAC,CACb0C,MAAM,CAAEH,CAAC,IAAKA,CAAC,CAACjB,UAAU,CAACpD,SAAS,CAAC,CAAC,CACtCkC,OAAO,CAAEmC,CAAC,IAAK;QACd,MAAMI,MAAM,GAAGL,WAAW,CAACC,CAAC,CAAC;QAC7B,MAAMK,SAAS,GAAG,IAAI,CAAClE,OAAO,CAACiE,MAAM,CAAC;QACtC,MAAME,MAAM,GAAG,IAAI,CAACnE,OAAO,CAAC0D,GAAG,CAAC,IAAI,IAAI,CAAC1D,OAAO,CAAC0D,GAAG,CAAC,CAACO,MAAM,CAAC;QAE7D,IAAI,CAACC,SAAS,IAAI,CAACC,MAAM,EAAE;UACzB/E,GAAG,CAACgF,KAAK,CAAC,eAAeP,CAAC,6BAA6BH,GAAG,EAAE,CAAC;UAC7D,OAAOpC,GAAG,CAACuC,CAAC,CAAC;QACf;MACF,CAAC,CAAC;IACN;EACF;EAEA,MAAMQ,OAAOA,CAAC;IACZzF,eAAe,GAAGC,oBAAoB;IACtC4E,aAAa,GAAGpD,OAAO;IACvB0B,SAAS,GAAGrD,gBAAgB;IAC5B4F,UAAU,GAAGC,oBAAoB;IACjCrF,iBAAiB,GAAGC,wBAAwB;IAC5CL,mBAAmB,GAAGC,sBAAsB;IAC5CC,gBAAgB,GAAGC,uBAAuB;IAC1Ca,iBAAiB,GAAG,IAAI;IACxB0E,SAAS,GAAG/E;EACd,CAAC,GAAG,CAAC,CAAC,EAAE;IACN,IAAI,CAACK,iBAAiB,GAAGA,iBAAiB;IAC1C,IAAI,CAAC3B,KAAK,CAACkD,WAAW,CAAC,IAAI,CAACvB,iBAAiB,CAAC;IAE9C,IAAI,CAAC0D,wBAAwB,CAACC,aAAa,CAAC;IAC5C,MAAMrD,IAAI,GAAG,IAAI,CAAC+B,YAAY,CAAC,CAAC;IAEhC,MAAMuB,GAAG,GAAGtD,IAAI,CAACuD,CAAC,CAAC,CAAC,CAAC;IAErB,MAAM3B,OAAO,GAAG,MAAMsC,UAAU,CAAC,IAAI,CAAC1E,kBAAkB,CAAC;IACzD,MAAM6E,UAAU,GAAG,IAAI,CAAC5E,QAAQ,CAAC6D,GAAG,CAAC;IAErC,IAAItD,IAAI,CAACsE,OAAO,EAAE;MAChB,IAAI,CAAC5C,iBAAiB,CAACC,SAAS,EAAEC,OAAO,CAAC;IAC5C;IAEA,IAAIuB,YAAY,GAAG;MAAE,GAAGnD,IAAI;MAAEuE,aAAa,EAAE3C;IAAQ,CAAC;IAEtD,IAAI;MACF,IAAI0B,GAAG,KAAKtC,SAAS,EAAE;QACrB,MAAM,IAAI7C,UAAU,CAAC,0CAA0C,CAAC;MAClE;MACA,IAAI,CAACkG,UAAU,EAAE;QACf,MAAM,IAAIlG,UAAU,CAAC,oBAAoBmF,GAAG,EAAE,CAAC;MACjD;MACA,IAAIc,SAAS,KAAK,YAAY,EAAE;QAC9B5F,eAAe,CAAC;UAAEoD;QAAQ,CAAC,CAAC;MAC9B;MAEA,MAAM4C,WAAW,GAAG,EAAE;MAEtB,IAAIxE,IAAI,CAACyC,eAAe,EAAE;QACxBzD,GAAG,CAACgF,KAAK,CACP,4BAA4B,GAAG,sCACjC,CAAC;QACD,MAAMS,iBAAiB,GAAG,MAAM/F,mBAAmB,CAAC,CAAC;QACrD8F,WAAW,CAACE,IAAI,CAAC,GAAGD,iBAAiB,CAAC;MACxC,CAAC,MAAM;QACLzF,GAAG,CAACgF,KAAK,CAAC,8BAA8B,CAAC;MAC3C;MAEA,IAAIhE,IAAI,CAAC2E,MAAM,EAAE;QACfH,WAAW,CAACE,IAAI,CAAC/G,IAAI,CAACiH,OAAO,CAAC5E,IAAI,CAAC2E,MAAM,CAAC,CAAC;MAC7C;MAEA,IAAIH,WAAW,CAACxB,MAAM,EAAE;QACtB,MAAM6B,YAAY,GAAGL,WAAW,CAC7BM,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACrB,OAAO,CAACzD,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CACzC4E,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACrB,OAAO,CAAChG,EAAE,CAACsH,OAAO,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CACxCC,IAAI,CAAC,IAAI,CAAC;QACbjG,GAAG,CAACgF,KAAK,CACP,sBAAsB,GACpB,GAAGQ,WAAW,CAACxB,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,IAAI,GAC1C,GAAG6B,YAAY,EACnB,CAAC;MACH;MAEA,KAAK,MAAMK,cAAc,IAAIV,WAAW,EAAE;QACxC,MAAMW,YAAY,GAAG,MAAMvG,gBAAgB,CAACsG,cAAc,CAAC;QAC3D/B,YAAY,GAAGrE,iBAAiB,CAAC;UAC/BkB,IAAI,EAAEmD,YAAY;UAClBiC,WAAW,EAAEpF,IAAI;UACjBkF,cAAc;UACdC,YAAY;UACZvF,OAAO,EAAE,IAAI,CAACA;QAChB,CAAC,CAAC;MACJ;MAEA,IAAIuD,YAAY,CAACmB,OAAO,EAAE;QACxB;QACA,IAAI,CAAC5C,iBAAiB,CAACC,SAAS,EAAEC,OAAO,CAAC;MAC5C;MAEA,IAAI,CAACsB,sBAAsB,CAACC,YAAY,CAAC;MAEzC,MAAMkB,UAAU,CAAClB,YAAY,EAAE;QAAEzD;MAAkB,CAAC,CAAC;IACvD,CAAC,CAAC,OAAO2F,KAAK,EAAE;MACd,IAAI,EAAEA,KAAK,YAAYlH,UAAU,CAAC,IAAIgF,YAAY,CAACmB,OAAO,EAAE;QAC1DtF,GAAG,CAACqG,KAAK,CAAC,KAAKA,KAAK,CAACC,KAAK,IAAI,CAAC;MACjC,CAAC,MAAM;QACLtG,GAAG,CAACqG,KAAK,CAAC,KAAKE,MAAM,CAACF,KAAK,CAAC,IAAI,CAAC;MACnC;MACA,IAAIA,KAAK,CAACG,IAAI,EAAE;QACdxG,GAAG,CAACqG,KAAK,CAAC,eAAeA,KAAK,CAACG,IAAI,IAAI,CAAC;MAC1C;MAEAxG,GAAG,CAACgF,KAAK,CAAC,qBAAqBV,GAAG,EAAE,CAAC;MAErC,IAAI,IAAI,CAAC5D,iBAAiB,EAAE;QAC1B2D,aAAa,CAACoC,IAAI,CAAC,CAAC,CAAC;MACvB,CAAC,MAAM;QACL,MAAMJ,KAAK;MACb;IACF;EACF;AACF;;AAEA;;AAEA,OAAO,eAAelB,oBAAoBA,CACxC3E,kBAAkB,EAClB;EAAE4E,SAAS,GAAG/E;AAAiB,CAAC,GAAG,CAAC,CAAC,EACrC;EACA,IAAI+E,SAAS,KAAK,YAAY,EAAE;IAC9BpF,GAAG,CAACgF,KAAK,CAAC,uCAAuC,CAAC;IAClD,MAAM0B,WAAW,GAAG9H,YAAY,CAC9BD,IAAI,CAACsH,IAAI,CAACzF,kBAAkB,EAAE,cAAc,CAC9C,CAAC;IACD,OAAOmG,IAAI,CAACC,KAAK,CAACF,WAAW,CAAC,CAAC9D,OAAO;EACxC,CAAC,MAAM;IACL5C,GAAG,CAACgF,KAAK,CAAC,uCAAuC,CAAC;IAClD;IACA;IACA;IACA;IACA,MAAM6B,GAAG,GAAG,MAAM,MAAM,CAAC,cAAc,CAAC;IACxC,OAAO,GAAGA,GAAG,CAACC,MAAM,CAACtG,kBAAkB,CAAC,IAAIqG,GAAG,CAACE,IAAI,CAACvG,kBAAkB,CAAC,EAAE;EAC5E;AACF;AAEA,OAAO,SAASwG,sBAAsBA,CAACC,YAAY,EAAE;EACnD,OAAQC,KAAK,IAAK;IAChB,IAAIC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,EAAE;MACxB,MAAM,IAAI/H,UAAU,CAAC8H,YAAY,CAAC;IACpC;IACA,OAAOC,KAAK;EACd,CAAC;AACH;AAEA,OAAO,eAAeG,IAAIA,CACxB7G,kBAAkB,EAClB;EACE0E,UAAU,GAAGC,oBAAoB;EACjC1E,QAAQ,GAAGvB,eAAe;EAC1B8B,IAAI;EACJsG,UAAU,GAAG,CAAC;AAChB,CAAC,GAAG,CAAC,CAAC,EACN;EACA,MAAMC,OAAO,GAAG,IAAIhH,OAAO,CAACS,IAAI,EAAE;IAAER;EAAmB,CAAC,CAAC;EACzD,MAAMoC,OAAO,GAAG,MAAMsC,UAAU,CAAC1E,kBAAkB,CAAC;;EAEpD;EACA;EACA;EACA+G,OAAO,CAACxI,KAAK,CACVyI,KAAK,CACJ;AACN;AACA;AACA,QAAQpH,SAAS,oBAAoBA,SAAS;AAC9C;AACA;AACA;AACA;AACA,CACI,CAAC,CACAqH,IAAI,CAAC,MAAM,CAAC,CACZC,KAAK,CAAC,GAAG,EAAE,MAAM,CAAC,CAClBxF,GAAG,CAAC9B,SAAS,CAAC,CACdwC,OAAO,CAACA,OAAO,CAAC,CAChBb,aAAa,CAAC,CAAC,EAAE,4BAA4B,CAAC,CAC9CT,MAAM,CAAC,CAAC,CACRqG,iBAAiB,CAAC,CAAC;EAEtBJ,OAAO,CAACpF,gBAAgB,CAAC;IACvB,YAAY,EAAE;MACZuF,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,iCAAiC;MAC3CC,OAAO,EAAE5G,OAAO,CAACC,GAAG,CAAC,CAAC;MACtB4G,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE,QAAQ;MACdC,MAAM,EAAGC,GAAG,IAAMA,GAAG,IAAI,IAAI,GAAGtJ,IAAI,CAACiH,OAAO,CAACqC,GAAG,CAAC,GAAGjG;IACtD,CAAC;IACD,eAAe,EAAE;MACf0F,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,0CAA0C;MACpDC,OAAO,EAAElJ,IAAI,CAACsH,IAAI,CAAChF,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,mBAAmB,CAAC;MACtDgH,SAAS,EAAE,IAAI;MACfJ,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE;IACR,CAAC;IACDzC,OAAO,EAAE;MACPoC,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,qBAAqB;MAC/BG,IAAI,EAAE,SAAS;MACftF,YAAY,EAAE;IAChB,CAAC;IACD,cAAc,EAAE;MACdiF,KAAK,EAAE,GAAG;MACVE,QAAQ,EACN,0DAA0D,GAC1D,qDAAqD,GACrD,+BAA+B;MACjCnF,YAAY,EAAE,KAAK;MACnB;MACA;MACA;MACA;MACAsF,IAAI,EAAE;IACR,CAAC;IACD,UAAU,EAAE;MACVH,QAAQ,EAAE,kDAAkD;MAC5DG,IAAI,EAAE,SAAS;MACftF,YAAY,EAAE;IAChB,CAAC;IACDoB,KAAK,EAAE;MACL;MACA;MACAsE,MAAM,EAAE,IAAI;MACZJ,IAAI,EAAE,SAAS;MACftF,YAAY,EAAE;IAChB,CAAC;IACDkD,MAAM,EAAE;MACN+B,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,wCAAwC,GAAG,iBAAiB;MACtEC,OAAO,EAAE7F,SAAS;MAClBS,YAAY,EAAE,KAAK;MACnBqF,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE;IACR,CAAC;IACD,kBAAkB,EAAE;MAClBH,QAAQ,EACN,8CAA8C,GAC9C,wDAAwD;MAC1DnF,YAAY,EAAE,KAAK;MACnBoF,OAAO,EAAE,IAAI;MACbE,IAAI,EAAE;IACR;EACF,CAAC,CAAC;EAEFR,OAAO,CACJ9F,OAAO,CACN,OAAO,EACP,yCAAyC,EACzChB,QAAQ,CAAC2H,KAAK,EACd;IACE,WAAW,EAAE;MACXR,QAAQ,EAAE,+CAA+C;MACzDG,IAAI,EAAE;IACR,CAAC;IACDM,QAAQ,EAAE;MACRX,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,6CAA6C;MACvDC,OAAO,EAAE7F,SAAS;MAClBkG,SAAS,EAAE,KAAK;MAChBzF,YAAY,EAAE,KAAK;MACnBqF,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE,QAAQ;MACdC,MAAM,EAAGC,GAAG,IACVA,GAAG,IAAI,IAAI,GACPjG,SAAS,GACTgF,sBAAsB,CACpB,+CACF,CAAC,CAACiB,GAAG;IACb,CAAC;IACD,gBAAgB,EAAE;MAChBP,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,6CAA6C;MACvDG,IAAI,EAAE;IACR;EACF,CACF,CAAC,CACAtG,OAAO,CACN,aAAa,EACb,iEAAiE,EACjEhB,QAAQ,CAAC6H,UAAU,EACnB,CAAC,CACH,CAAC,CACA7G,OAAO,CACN,MAAM,EACN,sDAAsD,EACtDhB,QAAQ,CAAC8H,IAAI,EACb;IACE,cAAc,EAAE;MACdX,QAAQ,EAAE,2BAA2B;MACrCC,OAAO,EAAEvH,YAAY;MACrBmC,YAAY,EAAE,IAAI;MAClBsF,IAAI,EAAE;IACR,CAAC;IACD,SAAS,EAAE;MACTH,QAAQ,EAAE,8CAA8C;MACxDnF,YAAY,EAAE,IAAI;MAClBsF,IAAI,EAAE;IACR,CAAC;IACD,YAAY,EAAE;MACZH,QAAQ,EAAE,iDAAiD;MAC3DnF,YAAY,EAAE,IAAI;MAClBsF,IAAI,EAAE;IACR,CAAC;IACD,WAAW,EAAE;MACXH,QAAQ,EACN,yCAAyC,GACzC,kCAAkC;MACpCnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACDS,OAAO,EAAE;MACPZ,QAAQ,EAAE,iDAAiD;MAC3DG,IAAI,EAAE;IACR,CAAC;IACD,kBAAkB,EAAE;MAClBH,QAAQ,EACN,gEAAgE,GAChE,6EAA6E;MAC/EG,IAAI,EAAE;IACR,CAAC;IACDU,OAAO,EAAE;MACPb,QAAQ,EACN,yEAAyE;MAC3EnF,YAAY,EAAE,IAAI;MAClBsF,IAAI,EAAE;IACR,CAAC;IACD,cAAc,EAAE;MACdH,QAAQ,EACN,kFAAkF,GAClF,wFAAwF;MAC1FG,IAAI,EAAE;IACR,CAAC;IACD,oBAAoB,EAAE;MACpBH,QAAQ,EACN,oFAAoF,GACpF,wEAAwE,GACxE,sFAAsF,GACtF,UAAU;MACZG,IAAI,EAAE;IACR;EACF,CACF,CAAC,CACAtG,OAAO,CAAC,KAAK,EAAE,mBAAmB,EAAEhB,QAAQ,CAACiI,GAAG,EAAE;IACjDC,MAAM,EAAE;MACNjB,KAAK,EAAE,GAAG;MACVE,QAAQ,EACN,wDAAwD,GACxD,iDAAiD;MACnDC,OAAO,EAAE,iBAAiB;MAC1BpF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,OAAO;MACba,OAAO,EAAE,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,UAAU;IAC5D,CAAC;IACDC,OAAO,EAAE;MACPnB,KAAK,EAAE,CAAC,GAAG,EAAE,gBAAgB,CAAC;MAC9BE,QAAQ,EACN,4DAA4D,GAC5D,kBAAkB,GAClB,sDAAsD,GACtD,2DAA2D,GAC3D,8DAA8D,GAC9D,uDAAuD,GACvD,8CAA8C;MAChDnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,iBAAiB,EAAE;MACjBL,KAAK,EAAE,GAAG;MACVE,QAAQ,EACN,wDAAwD,GACxD,yDAAyD,GACzD,0DAA0D,GAC1D,0CAA0C;MAC5CnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,iBAAiB,EAAE;MACjBH,QAAQ,EACN,iDAAiD,GACjD,qDAAqD,GACrD,2DAA2D;MAC7DnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,kBAAkB,EAAE;MAClBH,QAAQ,EAAE,mCAAmC;MAC7CnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,2BAA2B,EAAE;MAC3BH,QAAQ,EAAE,2DAA2D;MACrEnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,sBAAsB,EAAE;MACtBH,QAAQ,EACN,yDAAyD,GACzD,4BAA4B;MAC9BnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACDpE,MAAM,EAAE;MACNiE,QAAQ,EACN,gDAAgD,GAChD,2BAA2B;MAC7BnF,YAAY,EAAE,KAAK;MACnBoF,OAAO,EAAE,IAAI;MACbE,IAAI,EAAE;IACR,CAAC;IACD,YAAY,EAAE;MACZL,KAAK,EAAE,CAAC,aAAa,CAAC;MACtBE,QAAQ,EACN,qDAAqD,GACrD,mDAAmD,GACnD,mCAAmC;MACrCnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,eAAe,EAAE;MACfH,QAAQ,EACN,8CAA8C,GAC9C,kDAAkD,GAClD,mDAAmD,GACnD,mCAAmC,GACnC,+BAA+B;MACjCnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,aAAa,EAAE;MACbH,QAAQ,EACN,oDAAoD,GACpD,yDAAyD,GACzD,aAAa;MACfnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACDe,IAAI,EAAE;MACJlB,QAAQ,EACN,0CAA0C,GAC1C,oDAAoD,GACpD,kDAAkD,GAClD,aAAa;MACfnF,YAAY,EAAE,KAAK;MACnBqF,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE,OAAO;MACbC,MAAM,EAAGC,GAAG,IACVA,GAAG,IAAI,IAAI,GAAG1I,yBAAyB,CAAC0I,GAAG,CAAC,GAAGjG;IACnD,CAAC;IACD,WAAW,EAAE;MACX0F,KAAK,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC;MACnBE,QAAQ,EAAE,kCAAkC;MAC5CnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACDgB,QAAQ,EAAE;MACRnB,QAAQ,EACN,6CAA6C,GAC7C,yBAAyB;MAC3BnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,iBAAiB,EAAE;MACjBL,KAAK,EAAE,CAAC,IAAI,CAAC;MACbE,QAAQ,EAAE,oCAAoC;MAC9CnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD1E,IAAI,EAAE;MACJqE,KAAK,EAAE,CAAC,KAAK,CAAC;MACdE,QAAQ,EAAE,qDAAqD;MAC/DnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD;IACA,SAAS,EAAE;MACTH,QAAQ,EAAE,yCAAyC;MACnDnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf,CAAC;IACD,UAAU,EAAE;MACVF,QAAQ,EAAE,sCAAsC;MAChDnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf,CAAC;IACD,UAAU,EAAE;MACVF,QAAQ,EAAE,sCAAsC;MAChDnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf,CAAC;IACD,YAAY,EAAE;MACZJ,KAAK,EAAE,CAAC,gBAAgB,CAAC;MACzBE,QAAQ,EAAE,0CAA0C;MACpDnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf,CAAC;IACD,uBAAuB,EAAE;MACvBF,QAAQ,EAAE,iDAAiD;MAC3DnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf,CAAC;IACD,0BAA0B,EAAE;MAC1BF,QAAQ,EAAE,sDAAsD;MAChEnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE;IACR,CAAC;IACD,aAAa,EAAE;MACbH,QAAQ,EACN,0CAA0C,GAC1C,oCAAoC;MACtCnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf,CAAC;IACD,uBAAuB,EAAE;MACvBF,QAAQ,EACN,mEAAmE;MACrEnF,YAAY,EAAE,KAAK;MACnBsF,IAAI,EAAE,QAAQ;MACdD,WAAW,EAAE;IACf;EACF,CAAC,CAAC,CACDrG,OAAO,CAAC,MAAM,EAAE,+BAA+B,EAAEhB,QAAQ,CAACuI,IAAI,EAAE;IAC/DC,MAAM,EAAE;MACNvB,KAAK,EAAE,GAAG;MACVE,QAAQ,EAAE,gCAAgC;MAC1CG,IAAI,EAAE,QAAQ;MACdF,OAAO,EAAE,MAAM;MACfe,OAAO,EAAE,CAAC,MAAM,EAAE,MAAM;IAC1B,CAAC;IACDM,QAAQ,EAAE;MACRtB,QAAQ,EAAE,8BAA8B;MACxCG,IAAI,EAAE,SAAS;MACfF,OAAO,EAAE;IACX,CAAC;IACD,oBAAoB,EAAE;MACpBD,QAAQ,EAAE,2DAA2D;MACrEF,KAAK,EAAE,GAAG;MACVK,IAAI,EAAE,SAAS;MACfF,OAAO,EAAE;IACX,CAAC;IACDsB,MAAM,EAAE;MACNvB,QAAQ,EAAE,sBAAsB;MAChCG,IAAI,EAAE,SAAS;MACfF,OAAO,EAAE;IACX,CAAC;IACDuB,UAAU,EAAE;MACVxB,QAAQ,EAAE,gDAAgD;MAC1DG,IAAI,EAAE,SAAS;MACfF,OAAO,EAAE;IACX,CAAC;IACD,aAAa,EAAE;MACbD,QAAQ,EACN,6DAA6D,GAC7D,2CAA2C;MAC7CG,IAAI,EAAE,SAAS;MACfF,OAAO,EAAE;IACX,CAAC;IACDwB,MAAM,EAAE;MACNzB,QAAQ,EAAE,gCAAgC;MAC1CG,IAAI,EAAE,SAAS;MACfF,OAAO,EAAE;IACX;EACF,CAAC,CAAC,CACDpG,OAAO,CACN,MAAM,EACN,6CAA6C,EAC7ChB,QAAQ,CAAC6I,IAAI,EACb,CAAC,CACH,CAAC;EAEH,OAAO/B,OAAO,CAACtC,OAAO,CAAC;IAAEC,UAAU;IAAE,GAAGoC;EAAW,CAAC,CAAC;AACvD","ignoreList":[]}